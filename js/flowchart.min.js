// flowchart.js, v1.7.0
// Copyright (c)2017 Adriano Raiano (adrai).
// Distributed under MIT license
// http://adrai.github.io/flowchart.js

!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i(require("Raphael"));else if("function"==typeof define&&define.amd)define(["Raphael"],i);else{var e=i("object"==typeof exports?require("Raphael"):t.Raphael);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function i(r){if(e[r])return e[r].exports;var s=e[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){e(8);var r=e(4);e(16);var s={parse:r};"undefined"!=typeof window&&(window.flowchart=s),t.exports=s},function(t,i){function e(t,i){if(!t||"function"==typeof t)return i;var r={};for(var s in i)r[s]=i[s];for(s in t)t[s]&&("object"==typeof r[s]?r[s]=e(r[s],t[s]):r[s]=t[s]);return r}function r(t,i){if("function"==typeof Object.create)t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{t.super_=i;var e=function(){};e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t}}t.exports={defaults:e,inherits:r}},function(t,i,e){function r(t,i,e){this.chart=t,this.group=this.chart.paper.set(),this.symbol=e,this.connectedTo=[],this.symbolType=i.symbolType,this.flowstate=i.flowstate||"default",this.lineStyle=i.lineStyle||{},this.key=i.key||"",this.next_direction=i.next&&i.direction_next?i.direction_next:void 0,this.text=this.chart.paper.text(0,0,i.text),i.key&&(this.text.node.id=i.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var r=this.getAttr("font"),s=this.getAttr("font-family"),n=this.getAttr("font-weight");r&&this.text.attr({font:r}),s&&this.text.attr({"font-family":s}),n&&this.text.attr({"font-weight":n}),i.link&&this.text.attr("href",i.link),i.target&&this.text.attr("target",i.target);var o=this.getAttr("maxWidth");if(o){for(var h=i.text.split(" "),a="",x=0,l=h.length;x<l;x++){var g=h[x];this.text.attr("text",a+" "+g),a+=this.text.getBBox().width>o?"\n"+g:" "+g}this.text.attr("text",a.substring(1))}if(this.group.push(this.text),e){var y=this.getAttr("text-margin");e.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*y,height:this.text.getBBox().height+2*y}),e.node.setAttribute("class",this.getAttr("class")),i.link&&e.attr("href",i.link),i.target&&e.attr("target",i.target),i.key&&(e.node.id=i.key),this.group.push(e),e.insertBefore(this.text),this.text.attr({y:e.getBBox().height/2}),this.initialize()}}var s=e(3),n=s.drawLine,o=s.checkLineIntersection;r.prototype.getAttr=function(t){if(this.chart){var i,e=this.chart.options?this.chart.options[t]:void 0,r=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][t]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(i=this.chart.options.flowstate[this.flowstate][t]),i||r||e}},r.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},r.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},r.prototype.getX=function(){return this.group.getBBox().x},r.prototype.getY=function(){return this.group.getBBox().y},r.prototype.shiftX=function(t){this.group.transform("t"+(this.getX()+t)+","+this.getY())},r.prototype.setX=function(t){this.group.transform("t"+t+","+this.getY())},r.prototype.shiftY=function(t){this.group.transform("t"+this.getX()+","+(this.getY()+t))},r.prototype.setY=function(t){this.group.transform("t"+this.getX()+","+t)},r.prototype.getTop=function(){var t=this.getY(),i=this.getX()+this.width/2;return{x:i,y:t}},r.prototype.getBottom=function(){var t=this.getY()+this.height,i=this.getX()+this.width/2;return{x:i,y:t}},r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2,i=this.getX();return{x:i,y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2,i=this.getX()+this.group.getBBox().width;return{x:i,y:t}},r.prototype.getLineLength=function(){return this.getAttr("line-length")},r.prototype.render=function(){if(this.next){var t=this.getLineLength();if("right"===this.next_direction){var i=this.getRight();if(!this.next.isPositioned){this.next.setY(i.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+t);var e=this;!function i(){for(var r,s=!1,n=0,o=e.chart.symbols.length;n<o;n++){r=e.chart.symbols[n];var h=Math.abs(r.getCenter().x-e.next.getCenter().x);if(r.getCenter().y>e.next.getCenter().y&&h<=e.next.width/2){s=!0;break}}s&&(e.next.setX(r.getX()+r.width+t),i())}(),this.next.isPositioned=!0,this.next.render()}}else{var r=this.getBottom();this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+t),this.next.setX(r.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},r.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,"",this.next_direction):this.drawLineTo(this.next))},r.prototype.drawLineTo=function(t,i,e){this.connectedTo.indexOf(t)<0&&this.connectedTo.push(t);var r,s=this.getCenter().x,h=this.getCenter().y,a=this.getTop(),x=this.getRight(),l=this.getBottom(),g=this.getLeft(),y=t.getCenter().x,p=t.getCenter().y,f=t.getTop(),c=t.getBottom(),u=t.getRight(),d=t.getLeft(),m=s===y,b=l.y>f.y&&a.y<c.y,v=l.y<f.y,w=h>p||this===t,B=s>y,k=s<y,A=0,_=this.getLineLength();if(lineWith=this.getAttr("line-width"),e&&"bottom"!==e||!m||!v)if(e&&"right"!==e||!b||!k)if(e&&"left"!==e||!b||!B)if(e&&"right"!==e||!m||!w)if(e&&"right"!==e||!m||!v)if(e&&"bottom"!==e||!B)if(e&&"bottom"!==e||!k)if(e&&"right"===e&&B)r=n(this.chart,x,[{x:x.x+_/2,y:x.y},{x:x.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,A=x.x+_/2;else if(e&&"right"===e&&k)r=n(this.chart,x,[{x:f.x,y:x.y},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,A=x.x+_/2;else if(e&&"bottom"===e&&m&&w)r=n(this.chart,l,[{x:l.x,y:l.y+_/2},{x:x.x+_/2,y:l.y+_/2},{x:x.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,A=l.x+_/2;else if("left"===e&&m&&w){var M=g.x-_/2;d.x<g.x&&(M=d.x-_/2),r=n(this.chart,g,[{x:M,y:g.y},{x:M,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.leftStart=!0,t.topEnd=!0,A=g.x}else"left"===e&&(r=n(this.chart,g,[{x:f.x+(g.x-f.x)/2,y:g.y},{x:f.x+(g.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.leftStart=!0,t.topEnd=!0,A=g.x);else r=n(this.chart,l,[{x:l.x,y:l.y+_/2},{x:l.x+(l.x-f.x)/2,y:l.y+_/2},{x:l.x+(l.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,A=l.x+(l.x-f.x)/2;else r=this.leftEnd&&w?n(this.chart,l,[{x:l.x,y:l.y+_/2},{x:l.x+(l.x-f.x)/2,y:l.y+_/2},{x:l.x+(l.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i):n(this.chart,l,[{x:l.x,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,A=l.x+(l.x-f.x)/2;else r=n(this.chart,x,[{x:x.x+_/2,y:x.y},{x:x.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,A=x.x+_/2;else r=n(this.chart,x,[{x:x.x+_/2,y:x.y},{x:x.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,A=x.x+_/2;else r=n(this.chart,g,u,i),this.leftStart=!0,t.rightEnd=!0,A=u.x;else r=n(this.chart,x,d,i),this.rightStart=!0,t.leftEnd=!0,A=d.x;else r=n(this.chart,l,f,i),this.bottomStart=!0,t.topEnd=!0,A=l.x;if(this.lineStyle[t.key]&&r&&r.attr(this.lineStyle[t.key]),r){for(var L=0,O=this.chart.lines.length;L<O;L++)for(var X,T=this.chart.lines[L],S=T.attr("path"),Y=r.attr("path"),W=0,C=S.length-1;W<C;W++){var j=[];j.push(["M",S[W][1],S[W][2]]),j.push(["L",S[W+1][1],S[W+1][2]]);for(var E=j[0][1],R=j[0][2],z=j[1][1],P=j[1][2],F=0,I=Y.length-1;F<I;F++){var N=[];N.push(["M",Y[F][1],Y[F][2]]),N.push(["L",Y[F+1][1],Y[F+1][2]]);var V=N[0][1],q=N[0][2],G=N[1][1],Q=N[1][2],H=o(E,R,z,P,V,q,G,Q);if(H.onLine1&&H.onLine2){var J;q===Q?V>G?(J=["L",H.x+2*lineWith,q],Y.splice(F+1,0,J),J=["C",H.x+2*lineWith,q,H.x,q-4*lineWith,H.x-2*lineWith,q],Y.splice(F+2,0,J),r.attr("path",Y)):(J=["L",H.x-2*lineWith,q],Y.splice(F+1,0,J),J=["C",H.x-2*lineWith,q,H.x,q-4*lineWith,H.x+2*lineWith,q],Y.splice(F+2,0,J),r.attr("path",Y)):q>Q?(J=["L",V,H.y+2*lineWith],Y.splice(F+1,0,J),J=["C",V,H.y+2*lineWith,V+4*lineWith,H.y,V,H.y-2*lineWith],Y.splice(F+2,0,J),r.attr("path",Y)):(J=["L",V,H.y-2*lineWith],Y.splice(F+1,0,J),J=["C",V,H.y-2*lineWith,V+4*lineWith,H.y,V,H.y+2*lineWith],Y.splice(F+2,0,J),r.attr("path",Y)),F+=2,X+=2}}}this.chart.lines.push(r)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&A>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=A)},t.exports=r},function(t,i){function e(t,i,e){var r,s,n="M{0},{1}";for(r=2,s=2*e.length+2;r<s;r+=2)n+=" L{"+r+"},{"+(r+1)+"}";var o=[i.x,i.y];for(r=0,s=e.length;r<s;r++)o.push(e[r].x),o.push(e[r].y);var h=t.paper.path(n,o);h.attr("stroke",t.options["element-color"]),h.attr("stroke-width",t.options["line-width"]);var a=t.options.font,x=t.options["font-family"],l=t.options["font-weight"];return a&&h.attr({font:a}),x&&h.attr({"font-family":x}),l&&h.attr({"font-weight":l}),h}function r(t,i,e,r){var s,n;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);var o="M{0},{1}";for(s=2,n=2*e.length+2;s<n;s+=2)o+=" L{"+s+"},{"+(s+1)+"}";var h=[i.x,i.y];for(s=0,n=e.length;s<n;s++)h.push(e[s].x),h.push(e[s].y);var a=t.paper.path(o,h);a.attr({stroke:t.options["line-color"],"stroke-width":t.options["line-width"],"arrow-end":t.options["arrow-end"]});var x=t.options.font,l=t.options["font-family"],g=t.options["font-weight"];if(x&&a.attr({font:x}),l&&a.attr({"font-family":l}),g&&a.attr({"font-weight":g}),r){var y=!1,p=t.paper.text(0,0,r),f=!1,c=e[0];i.y===c.y&&(f=!0);var u=0,d=0;y?(u=i.x>c.x?i.x-(i.x-c.x)/2:c.x-(c.x-i.x)/2,d=i.y>c.y?i.y-(i.y-c.y)/2:c.y-(c.y-i.y)/2,f?(u-=p.getBBox().width/2,d-=t.options["text-margin"]):(u+=t.options["text-margin"],d-=p.getBBox().height/2)):(u=i.x,d=i.y,f?(u+=t.options["text-margin"]/2,d-=t.options["text-margin"]):(u+=t.options["text-margin"]/2,d+=t.options["text-margin"])),p.attr({"text-anchor":"start","font-size":t.options["font-size"],fill:t.options["font-color"],x:u,y:d}),x&&p.attr({font:x}),l&&p.attr({"font-family":l}),g&&p.attr({"font-weight":g})}return a}function s(t,i,e,r,s,n,o,h){var a,x,l,g,y,p={x:null,y:null,onLine1:!1,onLine2:!1};return a=(h-n)*(e-t)-(o-s)*(r-i),0===a?p:(x=i-n,l=t-s,g=(o-s)*x-(h-n)*l,y=(e-t)*x-(r-i)*l,x=g/a,l=y/a,p.x=t+x*(e-t),p.y=i+x*(r-i),x>0&&x<1&&(p.onLine1=!0),l>0&&l<1&&(p.onLine2=!0),p)}t.exports={drawPath:e,drawLine:r,checkLineIntersection:s}},function(t,i,e){function r(t){function i(t){var i=t.indexOf("(")+1,e=t.indexOf(")");return i>=0&&e>=0?t.substring(i,e):"{}"}function e(t){var i=t.indexOf("(")+1,e=t.indexOf(")");return i>=0&&e>=0?p.symbols[t.substring(0,i-1)]:p.symbols[t]}function r(t){var i="next",e=t.indexOf("(")+1,r=t.indexOf(")");return e>=0&&r>=0&&(i=j.substring(e,r),i.indexOf(",")<0&&"yes"!==i&&"no"!==i&&(i="next, "+i)),i}t=t||"",t=t.trim();for(var p={symbols:{},start:null,drawSVG:function(t,i){function e(t){if(f[t.key])return f[t.key];switch(t.symbolType){case"start":f[t.key]=new n(p,t);break;case"end":f[t.key]=new o(p,t);break;case"operation":f[t.key]=new h(p,t);break;case"inputoutput":f[t.key]=new x(p,t);break;case"subroutine":f[t.key]=new l(p,t);break;case"condition":f[t.key]=new g(p,t);break;case"database":f[t.key]=new a(p,t);break;case"cloud":f[t.key]=new y(p,t);break;default:return new Error("Wrong symbol type!")}return f[t.key]}var r=this;this.diagram&&this.diagram.clean();var p=new s(t,i);this.diagram=p;var f={};!function t(i,s,n){var o=e(i);return r.start===i?p.startWith(o):s&&n&&!s.pathOk&&(s instanceof g?(n.yes===i&&s.yes(o),n.no===i&&s.no(o)):s.then(o)),o.pathOk?o:(o instanceof g?(i.yes&&t(i.yes,o,i),i.no&&t(i.no,o,i)):i.next&&t(i.next,o,i),o)}(this.start),p.render()},clean:function(){this.diagram.clean()}},f=[],c=0,u=1,d=t.length;u<d;u++)if("\n"===t[u]&&"\\"!==t[u-1]){var m=t.substring(c,u);c=u+1,f.push(m.replace(/\\\n/g,"\n"))}c<t.length&&f.push(t.substr(c));for(var b=1,v=f.length;b<v;){var w=f[b];w.indexOf("->")<0&&w.indexOf("=>")<0&&w.indexOf("@>")<0?(f[b-1]+="\n"+w,f.splice(b,1),v--):b++}for(;f.length>0;){var B=f.splice(0,1)[0].trim();if(B.indexOf("=>")>=0){var k=B.split("=>"),A={key:k[0].replace(/\(.*\)/,""),symbolType:k[1],text:null,link:null,target:null,flowstate:null,lineStyle:{},params:{}},_=k[0].match(/\((.*)\)/);if(_&&_.length>1)for(var M=_[1].split(","),L=0;L<M.length;L++){var O=M[0].split("=");2==O.length&&(A.params[O[0]]=O[1])}var X;if(A.symbolType.indexOf(": ")>=0&&(X=A.symbolType.split(": "),A.symbolType=X.shift(),A.text=X.join(": ")),A.text&&A.text.indexOf(":>")>=0?(X=A.text.split(":>"),A.text=X.shift(),A.link=X.join(":>")):A.symbolType.indexOf(":>")>=0&&(X=A.symbolType.split(":>"),A.symbolType=X.shift(),A.link=X.join(":>")),A.symbolType.indexOf("\n")>=0&&(A.symbolType=A.symbolType.split("\n")[0]),A.link){var T=A.link.indexOf("[")+1,S=A.link.indexOf("]");T>=0&&S>=0&&(A.target=A.link.substring(T,S),A.link=A.link.substring(0,T-1))}if(A.text&&A.text.indexOf("|")>=0){var Y=A.text.split("|");A.flowstate=Y.pop().trim(),A.text=Y.join("|")}p.symbols[A.key]=A}else if(B.indexOf("->")>=0)for(var W=B.split("->"),L=0,C=W.length;L<C;L++){var j=W[L],E=e(j),R=r(j),z=null;if(R.indexOf(",")>=0){var P=R.split(",");R=P[0],z=P[1].trim()}if(p.start||(p.start=E),L+1<C){var F=W[L+1];E[R]=e(F),E["direction_"+R]=z,z=null}}else if(B.indexOf("@>")>=0)for(var I=B.split("@>"),L=0,C=I.length;L<C;L++)if(L+1!=C){var N=e(I[L]),F=e(I[L+1]);N.lineStyle[F.key]=JSON.parse(i(I[L+1]))}}return p}var s=e(6),n=e(14),o=e(11),h=e(13),a=e(10),x=e(12),l=e(15),g=e(5),y=e(9);t.exports=r},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",this.params=i.params,i.yes&&i.direction_yes&&i.no&&!i.direction_no?"right"===i.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):(this.no_direction="right",this.yes_direction="bottom"):i.yes&&!i.direction_yes&&i.no&&i.direction_no?"right"===i.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var e=this.text.getBBox().width+3*this.textMargin;e+=e/2;var r=this.text.getBBox().height+2*this.textMargin;r+=r/2,r=Math.max(.5*e,r);var n=e/4,o=r/4;this.text.attr({x:n+this.textMargin/2});var a={x:n,y:o},x=[{x:n-e/4,y:o+r/4},{x:n-e/4+e/2,y:o+r/4+r/2},{x:n-e/4+e,y:o+r/4},{x:n-e/4+e/2,y:o+r/4-r/2},{x:n-e/4,y:o+r/4}],l=h(t,a,x);l.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),i.link&&l.attr("href",i.link),i.target&&l.attr("target",i.target),i.key&&(l.node.id=i.key),l.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:l.getBBox().height/2}),this.group.push(l),l.insertBefore(this.text),this.initialize()}var s=e(2),n=e(1).inherits,o=e(3),h=o.drawPath;n(r,s),r.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var t=this.getAttr("line-length");if(this.bottom_symbol){var i=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+t),this.bottom_symbol.setX(i.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var e=this.getRight();if(!this.right_symbol.isPositioned){this.right_symbol.setY(e.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+t);var r=this;!function i(){for(var e,s=!1,n=0,o=r.chart.symbols.length;n<o;n++)if(e=r.chart.symbols[n],!r.params["align-next"]||"no"!==r.params["align-next"]){var h=Math.abs(e.getCenter().x-r.right_symbol.getCenter().x);if(e.getCenter().y>r.right_symbol.getCenter().y&&h<=r.right_symbol.width/2){s=!0;break}}s&&(r.right_symbol.setX(e.getX()+e.width+t),i())}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},r.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},t.exports=r},function(t,i,e){function r(t,i){i=i||{},this.paper=new s(t),this.options=n(i,o),this.symbols=[],this.lines=[],this.start=null}var s=e(17),n=e(1).defaults,o=e(7),h=e(5);r.prototype.handle=function(t){this.symbols.indexOf(t)<=-1&&this.symbols.push(t);var i=this;return t instanceof h?(t.yes=function(e){return t.yes_symbol=e,t.no_symbol&&(t.pathOk=!0),i.handle(e)},t.no=function(e){return t.no_symbol=e,t.yes_symbol&&(t.pathOk=!0),i.handle(e)}):t.then=function(e){return t.next=e,t.pathOk=!0,i.handle(e)},t},r.prototype.startWith=function(t){return this.start=t,this.handle(t)},r.prototype.render=function(){var t,i,e=0,r=0,s=0,n=0,o=0,h=0,a=0,x=0;for(s=0,n=this.symbols.length;s<n;s++)t=this.symbols[s],t.width>e&&(e=t.width),t.height>r&&(r=t.height);for(s=0,n=this.symbols.length;s<n;s++)t=this.symbols[s],t.shiftX(this.options.x+(e-t.width)/2+this.options["line-width"]),t.shiftY(this.options.y+(r-t.height)/2+this.options["line-width"]);for(this.start.render(),s=0,n=this.symbols.length;s<n;s++)t=this.symbols[s],t.renderLines();o=this.maxXFromLine;var l,g;for(s=0,n=this.symbols.length;s<n;s++)t=this.symbols[s],l=t.getX()+t.width,g=t.getY()+t.height,l>o&&(o=l),g>h&&(h=g);for(s=0,n=this.lines.length;s<n;s++){i=this.lines[s].getBBox(),l=i.x,g=i.y;var y=i.x2,p=i.y2;l<a&&(a=l),g<x&&(x=g),y>o&&(o=y),p>h&&(h=p)}var f=this.options.scale,c=this.options["line-width"];a<0&&(a-=c),x<0&&(x-=c);var u=o+c-a,d=h+c-x;this.paper.setSize(u*f,d*f),this.paper.setViewBox(a,x,u,d,!0)},r.prototype.clean=function(){if(this.paper){var t=this.paper.canvas;t.parentNode.removeChild(t)}},t.exports=r},function(t,i){t.exports={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block",class:"flowchart",scale:1,symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{},database:{},cloud:{}}}},function(t,i){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var i=Object(this),e=i.length>>>0;if(0===e)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=e)return-1;for(var s=r>=0?r:Math.max(e-Math.abs(r),0);s<e;s++)if(s in i&&i[s]===t)return s;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var i=Object(this),e=i.length>>>0;if(0===e)return-1;var r=e;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var s=r>=0?Math.min(r,e-1):e-Math.abs(r);s>=0;s--)if(s in i&&i[s]===t)return s;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i);var e=0,r=0;this.textMargin=this.getAttr("text-margin");var n=this.text.getBBox().width+2*this.textMargin,o=this.text.getBBox().height+2*this.textMargin,h=.75*n,a=.25*n,x=Math.cos(.3762),l=1.0752,g=l*h/2/x,y=a/2+g*(1-Math.sin(.3762)),p=.9*a,f=o/1.95,c=r+y+o,u=e+o/2.5,d=r+y;cv1="M"+u+","+c+" A"+f+","+f+" 0 0,1 "+u+","+d,cv2="A"+g+","+g+" 0 0,1 "+(h+u)+","+(d-a),cv3="A"+p+","+p+" 0 0,1 "+(n+u)+","+d,cv4="A"+f+","+f+" 0 0,1 "+(n+u)+","+c,base="H "+u;var m=t.paper.path(cv1+cv2+cv3+cv4+base);m.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),this.group.push(m),m.insertBefore(this.text),this.text.attr({y:this.group.getBBox().height/2,x:u+this.textMargin}),this.startRight=n+u,this.initialize()}var s=e(2),n=e(1).inherits,o=e(3);o.drawPath;n(r,s),r.prototype.getLeft=function(){var t=this.getX()+this.textMargin,i=this.getY()+this.group.getBBox().height/2;return{x:t,y:i}},r.prototype.getRight=function(){var t=this.getX()+this.startRight,i=this.getY()+this.group.getBBox().height/2;return{x:t,y:i}},r.prototype.getTop=function(){var t=this.getY(),i=this.getX()+this.width/2;return{x:i,y:t}},t.exports=r},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i),this.textMargin=this.getAttr("text-margin");var e=this.text.getBBox().width+2*this.textMargin,r=e/6.5,n=this.text.getBBox().height+2*this.textMargin+r/2,o=t.paper.ellipse(e/2,n+r,e/2,r/2);o.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")});var a=t.paper.rect(0,r/2,e,n+r/2);a.attr({stroke:this.getAttr("element-color"),"stroke-width":0,fill:this.getAttr("fill")});var x=t.paper.ellipse(e/2,r/2,e/2,r/2);x.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")});var l=h(t,{x:0,y:r/2},[{x:0,y:n+r}]);l.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width")});var g=h(t,{x:e,y:r/2},[{x:e,y:n+r}]);g.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width")}),console.debug(this.group.getBBox()),this.group.push(l,o,a,x,g),console.debug(this.group.getBBox()),o.insertBefore(this.text),a.insertBefore(this.text),x.insertBefore(this.text),this.text.attr({y:this.group.getBBox().height/2}),this.initialize()}var s=e(2),n=e(1).inherits,o=e(3),h=o.drawPath;n(r,s),r.prototype.getLeft=function(){var t=this.getX()+this.textMargin,i=this.getY()+this.group.getBBox().height/2;return{x:t,y:i}},r.prototype.getRight=function(){var t=this.getX()+this.group.getBBox().width,i=this.getY()+this.group.getBBox().height/2;return{x:t,y:i}},t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0,20);i=i||{},i.text=i.text||"End",s.call(this,t,i,e)}var s=e(2),n=e(1).inherits;n(r,s),t.exports=r},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var e=this.text.getBBox().width+4*this.textMargin,r=this.text.getBBox().height+2*this.textMargin,n=this.textMargin,o=r/2,a={x:n,y:o},x=[{x:n-this.textMargin,y:r},{x:n-this.textMargin+e,y:r},{x:n-this.textMargin+e+2*this.textMargin,y:0},{x:n-this.textMargin+2*this.textMargin,y:0},{x:n,y:o}],l=h(t,a,x);l.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),i.link&&l.attr("href",i.link),i.target&&l.attr("target",i.target),i.key&&(l.node.id=i.key),l.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:l.getBBox().height/2}),this.group.push(l),l.insertBefore(this.text),this.initialize()}var s=e(2),n=e(1).inherits,o=e(3),h=o.drawPath;n(r,s),r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2,i=this.getX()+this.textMargin;return{x:i,y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2,i=this.getX()+this.group.getBBox().width-this.textMargin;return{x:i,y:t}},t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0);i=i||{},s.call(this,t,i,e)}var s=e(2),n=e(1).inherits;n(r,s),t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0,20);i=i||{},i.text=i.text||"Start",s.call(this,t,i,e)}var s=e(2),n=e(1).inherits;n(r,s),t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0);i=i||{},s.call(this,t,i,e),e.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var r=t.paper.rect(0,0,0,0);r.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),i.key&&(r.node.id=i.key+"i");var n=this.getAttr("font"),o=this.getAttr("font-family"),h=this.getAttr("font-weight");n&&r.attr({font:n}),o&&r.attr({"font-family":o}),h&&r.attr({"font-weight":h}),i.link&&r.attr("href",i.link),i.target&&r.attr("target",i.target),this.group.push(r),r.insertBefore(this.text),this.initialize()}var s=e(2),n=e(1).inherits;n(r,s),t.exports=r},function(t,i,e){if("undefined"!=typeof jQuery){var r=e(4);!function(t){t.fn.flowChart=function(i){return this.each(function(){var e=t(this),s=r(e.text());e.html(""),s.drawSVG(this,i)})}}(jQuery)}},function(i,e){i.exports=t}])});
//# sourceMappingURL=flowchart.min.js.map